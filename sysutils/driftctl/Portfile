# -*- coding: utf-8; mode: _tcl; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*- vim:fenc=utf-8:ft=tcl:et:sw=2:ts=2:sts=2

PortSystem          1.0
PortGroup           golang 1.0

go.setup            github.com/cloudskiff/driftctl 0.18.1 v
github.tarball_from archive
revision            0

homepage            https://driftctl.com

description         Detect, track and alert on infrastructure drift

long_description    {*}${description}. Measures infrastructure as code \
                    coverage, and tracks infrastructure drift.

categories          sysutils
installs_libs       no
license             Apache-2
maintainers         {gmail.com:herby.gillot @herbygillot} \
                    openmaintainer

<<<<<<< HEAD
checksums           rmd160  0a9cc0cc64bf5da30e177ae79d5c3479f211d975 \
sha256  e50c84cf26b29cf0738fc960fc3afd34a0f784714c2abbc26259a34ed6ed854e \
size    13669849
=======
checksums           rmd160  b4b9c0d24d7dc1af758d146c44bfb621fb6b373f \
sha256  6a75838f31ec24d9b53e075d2edc21c5944f45a534588b809f5121a4c8bfb21f \
size    14416448
>>>>>>> df887e97d3f7fddb142e8a9f96fe0e2dc00d0ad7

# Allow fetching dependencies at build time
build.env-delete    GOPROXY=off GO111MODULE=off

build.env-append    OS_ARCH=${os.platform}/${goarch}

build.pre_args-append \
    -ldflags \" \
        -X ${go.package}/pkg/version.version=${github.tag_prefix}${version} \
        -X ${go.package}/build.env=release \
    \"

destroot {
    xinstall -m 0755 ${worksrcpath}/${name} ${destroot}${prefix}/bin/
}
